---
layout:     post
title:      C++语法总结
subtitle:   annoying！
date:       2018-03-21
author:     CHEN   Yuxiang
header-img: img/tag-bg-o.jpg
catalog: true
tags:
    - C++
---

# part 1 Basis

### 定义一个新的string类
实现构造函数、析构函数、拷贝构造函数、赋值函数

```cpp
class NewString{
public:
    NewString(const char*str=nullptr);//构造函数
    NewString(const NewString& other);//拷贝构造函数
    NewString& operator=(const NewString& other); //赋值函数
    ~NewString(); //析构函数
    
    void show();
private:
    char *m_data;
    
};

NewString::NewString(const char *str){
    if(str==nullptr){
        m_data = new char[1];
        *m_data = '\0';
    }
    else{
        size_t len = strlen(str);
        m_data = new char[len+1];
        strcpy(m_data,str);
    }
}

NewString::NewString(const NewString &other){
    if(m_data) delete [] m_data;
    size_t len = strlen(other.m_data);
    m_data = new char[len+1];
    strcpy(m_data,other.m_data);
}

NewString & NewString::operator=(const NewString &other){
    if(this==&other) return *this;
    size_t len = strlen(other.m_data);
    m_data = new char[len+1];
    strcpy(m_data,other.m_data);
    return *this;
}

NewString::~NewString() { delete []m_data;}

```
### 编写一个标准的strcpy函数

```cpp
char *NewStrcpy(char *strDest,const char*strSrc){
    assert((strDest!=NULL)&&(strSrc!=NULL));
    char *address = strDest;
    while((*strDest++ = *strSrc++)!='\0');
    return address;
}
```






















